<div
  [dir]="i18n.direction"
  class="fs-layout-wrapper"
  [class.fs-hidden-navbar]="hideNavbar"
  [ngClass]="layout.navbarModeClass"
  [class.fs-handset]="layout.state.isHandset"
  [class.fs-portrait]="layout.state.isPortrait"
  [class.fs-theme-light]="!layout.state.isDarkTheme"
  [class.fs-theme-dark]="layout.state.isDarkTheme"
  [@fadeOutInSlow]="layout.state.isDarkTheme ? 'out' : 'in'"
>
  <fullerstack-navbar *ngIf="!layout?.state?.isHeadless" [authState]="auth.state" [layoutState]="layout.state"></fullerstack-navbar>

  <mat-sidenav-container [class.fs-no-scroll]="!allowScroll">
    <mat-sidenav
      *ngIf="!layout?.state?.isHeadless"
      #sideMenu
      position="start"
      [fixedTopGap]="layout.state.isHandset ? 56 : 64"
      [fixedInViewport]="layout.state.isHandset"
      [mode]="layout.state.menuMode"
      [opened]="layout.state.menuOpen"
      [attr.role]="layout.state.menuRole"
      class="fs-menu-panel"
    >
      <fullerstack-menu></fullerstack-menu>
    </mat-sidenav>

    <mat-sidenav
      *ngIf="!layout?.state?.isHeadless"
      #notifyMenu
      position="end"
      [fixedTopGap]="layout.state.isHandset ? 56 : 64"
      [fixedInViewport]="layout.state.isHandset"
      [mode]="layout.state.notifyMode"
      [opened]="layout.state.notifyOpen"
      [attr.role]="layout.state.notifyRole"
      class="fs-notification-panel"
    >
      <fullerstack-notification></fullerstack-notification>
    </mat-sidenav>

    <mat-sidenav-content [@slideIn]="routeState(outlet)">
      <div>
        <router-outlet #outlet="outlet"></router-outlet>
        <fullerstack-footer *ngIf="!layout?.state?.isHeadless" [appName]="layout.state.appName"></fullerstack-footer>
      </div>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
